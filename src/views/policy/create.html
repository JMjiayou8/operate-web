<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>创建政策</title>
  <meta name="renderer" content="webkit" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, name-scalable=0" />
  <link rel="stylesheet" href="../../assets/layui/css/layui.css" media="all" />
  <link rel="stylesheet" href="../../assets/style/index.css" media="all" />
  <link rel="stylesheet" href="../../assets/style/page.css" media="all" />
</head>

<body>
  <div class="common-page  createPolicy">
    <div class="layui-tab" lay-filter="pageTab">
      <ul class="layui-tab-title layui-row  step-top-wrap">
        <li class="layui-this layui-col-md4 layui-col-sm4 step-item step-item-first" lay-id="11">
          <i class="step-icon step1"></i>
          <p class="step-text">基本信息</p>
        </li>
        <li class="layui-col-md4 layui-col-sm4 step-item" lay-id="22">
          <i class="step-icon  step2"></i>
          <p class="step-text">产品选择</p>
        </li>
        <li class="layui-col-md4 layui-col-sm4 step-item step-item-last" lay-id="33">
          <i class="step-icon  step3"></i>
          <p class="step-text">规则和触点</p>
        </li>
      </ul>
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          <div class="layui-card">
            <div class="layui-card-body">
              <form class="layui-form layui-row createPolicy-form">
                <div class="layui-form-item layui-col-md6">
                  <label class="layui-form-label">政策名称：</label>
                  <div class="layui-input-block">
                    <input type="text" name="prop1" autocomplete="off" class="layui-input">
                  </div>
                </div>
                <div class="layui-form-item layui-col-md6">
                  <label class="layui-form-label">政策来源：</label>
                  <div class="layui-input-block">
                    <select name="" id=""></select> </div>
                </div>

                <div class="layui-form-item layui-col-md6">
                  <label class="layui-form-label">开始时间：</label>
                  <div class="layui-input-block">
                    <input type="text" class="layui-input" id="startDate" placeholder="yyyy-MM-dd">
                  </div>
                </div>
                <div class="layui-form-item layui-col-md6">
                  <label class="layui-form-label">结束时间：</label>
                  <div class="layui-input-block">
                    <input type="text" class="layui-input" id="endDate" placeholder="yyyy-MM-dd">
                  </div>
                </div>

                <div class="layui-form-item layui-col-md6">
                  <label class="layui-form-label">业务分类：</label>
                  <div class="layui-input-block">
                    <select name="" id=""></select> </div>
                </div>

                <div class="layui-form-item layui-col-md6">
                  <label class="layui-form-label">业务小类：</label>
                  <div class="layui-input-block">
                    <select name="" id=""></select> </div>
                </div>
                <div class="layui-form-item layui-col-md12">
                  <label class="layui-form-label">政策描述：</label>
                  <div class="layui-input-block">
                    <textarea placeholder="请输入内容" name="prop3" class="layui-textarea"></textarea>
                  </div>
                </div>
                <div class="layui-form-item layui-col-md12">
                  <label class="layui-form-label">政策文件：</label>
                  <div class="layui-input-block">
                    <div class="layui-card upload-card">
                      <div class="layui-card-body">
                        <div class="layui-upload-drag " id="uploadFile">
                          <i class="upload-icon"></i>
                          <p class="upload-text">文件上传</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="layui-form-item layui-col-md12 text-center">
                  <label class="layui-form-label"></label>
                  <div class="layui-input-block">
                    <button type="button" class="layui-btn" onclick="nextPage('22')">继续</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <div class="layui-card">
            <div class="layui-card-body">
              <div class="search-btn-wrap">
                <input type="text" class="layui-input" placeholder="搜索产品">
                <i class="layui-icon layui-icon-search"></i>
              </div>
              <div class="layui-tab layui-tab-brief " lay-filter="typeTab">
                <ul class="layui-tab-title">
                  <li class="layui-this" lay-id="11">主产品</li>
                  <li lay-id="22">附加产品</li>
                  <li lay-id="33">宽带产品</li>
                  <li lay-id="44">泛终端</li>
                </ul>
                <div class="layui-tab-content">
                  <div class="layui-tab-item layui-show">
                    <form class="layui-form">
                      <div class="noIcon-radio">
                        <input type="radio" name="pro1" value="1" title="七天包" checked="">
                        <input type="radio" name="pro1" value="2" title="沃派流量王">
                        <input type="radio" name="pro1" value="3" title="畅越低消">
                        <input type="radio" name="pro1" value="4" title="日包">
                      </div>
                    </form>
                    <table id="table1"></table>
                  </div>
                  <div class="layui-tab-item ">
                    <form class="layui-form">
                      <div class="noIcon-radio">
                        <input type="radio" name="pro2" value="1" title="七天包">
                        <input type="radio" name="pro2" value="2" title="沃派流量王" checked="">
                        <input type="radio" name="pro2" value="3" title="畅越低消">
                        <input type="radio" name="pro2" value="4" title="日包">
                      </div>
                    </form>
                    <table id="table2"></table>
                  </div>
                  <div class="layui-tab-item ">
                    <form class="layui-form">
                      <div class="noIcon-radio">
                        <input type="radio" name="pro3" value="1" title="七天包">
                        <input type="radio" name="pro3" value="2" title="沃派流量王">
                        <input type="radio" name="pro3" value="3" title="畅越低消">
                        <input type="radio" name="pro3" value="4" title="日包">
                      </div>
                    </form>
                    <table id="table3"></table>
                  </div>
                  <div class="layui-tab-item ">
                    <form class="layui-form">
                      <div class="noIcon-radio">
                        <input type="radio" name="pro4" value="1" title="七天包">
                        <input type="radio" name="pro4" value="2" title="沃派流量王">
                        <input type="radio" name="pro4" value="3" title="畅越低消">
                        <input type="radio" name="pro4" value="4" title="日包" checked="">
                      </div>
                    </form>
                    <table id="table4"></table>
                  </div>
                </div>
              </div>
              <div class="text-center">
                <button type="button" class="layui-btn" onclick="nextPage('33')">继续</button>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-tab-item">
          <div class="layui-card">
            <div class="layui-card-body">
              <form class="layui-form" wid100>
                <div class="layui-form-item">
                  <label class="layui-form-label">互斥规则：</label>
                  <div class="layui-input-block ">
                    <select name="" id=""></select>
                  </div>
                </div>
                <div class="layui-form-item">
                  <label class="layui-form-label"></label>
                  <div class="layui-input-block">
                    <div class="layui-card upload-card">
                      <div class="layui-card-body">
                        <div class="layui-upload-drag " id="uploadFile2">
                          <i class="upload-icon"></i>
                          <p class="upload-text">互斥文件上传</p>
                        </div><input class="layui-upload-file" type="file" accept="undefined" name="file">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="layui-form-item">
                  <label class="layui-form-label">佣金规则：</label>
                  <div class="layui-input-block ">
                    <select name="" id="">
                      <option value=""></option>
                    </select>
                    <p class="tip">说明：外呼接通20秒并且累计充值X元</p>
                  </div>
                </div>
                <div class="layui-form-item">
                  <label class="layui-form-label">触点范围：</label>
                  <div class="layui-input-block">
                    <input type="checkbox" name="like[1]" lay-skin="box" title="短信">
                    <input type="checkbox" name="like[2]" lay-skin="box" title="外呼" checked="">
                    <input type="checkbox" name="like[3]" lay-skin="box" title="线上渠道">
                  </div>
                </div>
                <div class="layui-form-item text-center">
                  <label class="layui-form-label"></label>
                  <div class="layui-input-block">
                    <button type="button" class="layui-btn layui-btn-primary">保存</button>
                    <button type="button" class="layui-btn ">提交</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../../assets/layui/layui.js"></script>
    <script>
      layui
        .config({
          base: '../../assets/' //静态资源所在路径
        })
        .use(['table', 'laytpl', 'laydate', 'form', 'laypage', 'element', 'upload', 'table'], function () {
          var $ = layui.$,
            table = layui.table,
            laydate = layui.laydate,
            form = layui.form,
            laytpl = layui.laytpl,
            element = layui.element,
            upload = layui.upload,
            table = layui.table,
            laypage = layui.laypage;

          window.nextPage = function (page) {
            element.tabChange('pageTab', page);
          };
          /********************************************** 基本信息区域  **********************************************/
          upload.render({
            elem: '#uploadFile',
            // url: '/upload/',
            before: function (obj) {
              //预读本地文件示例，不支持ie8
              obj.preview(function (index, file, result) {
                console.log(file)
                // $('#demo1').attr('src', result); //图片链接（base64）
              });
            },
            done: function (res) {
              console.log(res)
            }
          });

          laydate.render({
            elem: '#startDate',
          })
          laydate.render({
            elem: '#endDate',
          })

          /********************************************** 目标客户群区域  **********************************************/

          table.render({
            elem: '#table1',
            cols: [
              [{
                  type: 'checkbox'
                },
                //标题栏
                {
                  field: 'code',
                  title: '产品编码'
                },
                {
                  field: 'name',
                  title: '产品名称'
                },
                {
                  field: 'prop1',
                  title: '网别'
                },
                {
                  field: 'prop2',
                  title: '费用'
                }
              ]
            ],
            data: [{
              code: '10001',
              name: '7天包政策',
              prop1: 'OCS',
              prop2: '20'
            }, {
              code: '10002',
              name: '14天包政策',
              prop1: 'OCS',
              prop2: '30'
            }]
          })
          table.render({
            elem: '#table2',
            cols: [
              [{
                  type: 'checkbox'
                },
                {
                  field: 'code',
                  title: '产品编码'
                },
                {
                  field: 'name',
                  title: '产品名称'
                },
                {
                  field: 'prop1',
                  title: '网别'
                },
                {
                  field: 'prop2',
                  title: '费用'
                }
              ]
            ],
            data: [{
              code: '10001',
              name: '7天包政策',
              prop1: 'OCS',
              prop2: '20'
            }, {
              code: '10002',
              name: '14天包政策',
              prop1: 'OCS',
              prop2: '30'
            }]
          })
          table.render({
            elem: '#table3',
            cols: [
              [{
                  type: 'checkbox'
                },
                {
                  field: 'code',
                  title: '产品编码'
                },
                {
                  field: 'name',
                  title: '产品名称'
                },
                {
                  field: 'prop1',
                  title: '网别'
                },
                {
                  field: 'prop2',
                  title: '费用'
                }
              ]
            ],
            data: [{
              code: '10001',
              name: '7天包政策',
              prop1: 'OCS',
              prop2: '20'
            }, {
              code: '10002',
              name: '14天包政策',
              prop1: 'OCS',
              prop2: '30'
            }]
          })
          table.render({
            elem: '#table4',
            cols: [
              [{
                  type: 'checkbox'
                },
                {
                  field: 'code',
                  title: '产品编码'
                },
                {
                  field: 'name',
                  title: '产品名称'
                },
                {
                  field: 'prop1',
                  title: '网别'
                },
                {
                  field: 'prop2',
                  title: '费用'
                }
              ]
            ],
            data: [{
              code: '40001',
              name: '7天包政策',
              prop1: 'OCS',
              prop2: '20'
            }, {
              code: '10002',
              name: '14天包政策',
              prop1: 'OCS',
              prop2: '30'
            }]
          })

          /********************************************** 执行触点区域  **********************************************/

          upload.render({
            elem: '#uploadFile2',
            // url: '/upload/',
            before: function (obj) {
              //预读本地文件示例，不支持ie8
              obj.preview(function (index, file, result) {
                console.log(file)
                // $('#demo1').attr('src', result); //图片链接（base64）
              });
            },
            done: function (res) {
              console.log(res)
            }
          });

        })
    </script>
</body>

</html>